<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>天気の変化 – Azaponの自由研究</title>
  <link rel="icon" href="images/azarasi.png" type="image/png">
  <style>
    body { font-family:'Helvetica Neue', Arial, sans-serif; background:#222; color:#eee; margin:40px auto; max-width:900px; line-height:1.6; padding:30px 20px; border-radius:10px; box-shadow:0 0 20px rgba(0,0,0,0.7);}
    h1 { text-align:center; color:#4fc3f7; font-size:2.5rem; text-shadow:0 0 8px #4fc3f7;}
    table { width:100%; border-collapse: collapse; margin-top:2em; }
    th, td { border:1px solid #444; padding:8px; text-align:center; }
    th { background-color: rgba(79,195,247,0.2); }
    img { max-width:200px; height:auto; border-radius:5px; }
    nav a { color:#81d4fa; margin:0 1em; text-decoration:none; font-weight:bold; }
    nav a:hover { color:#a0e9ff; text-decoration:underline; }
    footer { margin-top:3em; font-size:0.8em; color:#aaa; font-style:italic; }
  </style>
</head>
<body>
  <h1>天気の変化</h1>

  <nav>
    <a href="index.html">トップ</a> |
    <a href="air-pressure-changes.html">気圧の変化</a> |
    <a href="diary.html">日記</a>
  </nav>

  <table id="data-table">
    <tr>
      <th>日付</th>
      <th>画像</th>
      <th>天気</th>
    </tr>
  </table>

  <script>
  async function loadDiaryData() {
    try {
      const res = await fetch('diary.html');
      const text = await res.text();
      const parser = new DOMParser();
      const doc = parser.parseFromString(text,'text/html');
      const articles = doc.querySelectorAll('article');
      const table = document.getElementById('data-table');

      articles.forEach(article => {
        const date = article.querySelector('time')?.getAttribute('datetime') || '';
        const imgSrc = article.querySelector('img')?.getAttribute('src') || '';
        const tr = document.createElement('tr');

        const tdDate = document.createElement('td');
        tdDate.textContent = date;
        tr.appendChild(tdDate);

        const tdImg = document.createElement('td');
        if(imgSrc){
          const img = document.createElement('img');
          img.src = imgSrc;
          tdImg.appendChild(img);
        }
        tr.appendChild(tdImg);

        const tdWeather = document.createElement('td'); // 手動入力用
        tdWeather.textContent = '';
        tr.appendChild(tdWeather);

        table.appendChild(tr);
      });
    } catch(err){ console.error('diary.html読み込み失敗:',err);}
  }
  loadDiaryData();
  </script>

  <footer>
    &copy; 2025 zpgilo39 | Powered by Azapon
  </footer>
</body>
</html>
